{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Indraneel\\\\Desktop\\\\INRservices\\\\frontend\\\\my-app\\\\src\\\\components\\\\Bookings.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'antd';\nimport CustomLayout from '../containers/CustomLayout';\nimport Toper3 from './Toper3';\nimport { List, Avatar, Icon } from 'antd';\nimport logoinr from './logoinr.jpg';\nimport axios from 'axios';\nconst listData = [];\n\nconst IconText = ({\n  type,\n  text\n}) => React.createElement(\"span\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, React.createElement(Icon, {\n  type: type,\n  style: {\n    marginRight: 8\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}), text);\n\nclass Bookings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      info: [],\n      firstname: '',\n      lastname: '',\n      gender: '',\n      date: '',\n      phonenumber: '',\n      email: ''\n    };\n  }\n\n  refine() {\n    //alert(\"refinement\");\n    const result = this.state.info.filter(word => word.email == this.state.email);\n    localStorage.setItem('length', result.length);\n    localStorage.setItem('info', JSON.stringify(result));\n  }\n\n  componentDidMount() {\n    //const test = localStorage.getItem('test');\n    //console.log(test);\n    const res = JSON.parse(localStorage.getItem('details'));\n    this.setState({\n      firstname: res.firstname\n    });\n    this.setState({\n      lastname: res.lastname\n    });\n    this.setState({\n      gender: res.gender\n    });\n    this.setState({\n      phonenumber: res.phonenumber\n    });\n    this.setState({\n      email: res.email\n    }); //the person got his own details\n\n    axios.get('http://127.0.0.1:8000/api3/').then(res => {\n      this.setState({\n        info: res.data\n      }); //console.log(res.data);\n\n      this.refine();\n    });\n    const r = localStorage.getItem('length');\n    const information = JSON.parse(localStorage.getItem('info'));\n    console.log(\"check \" + information.length);\n    console.log(\"check \" + JSON.stringify(information));\n\n    for (let i = 0; i < information.length; i++) {\n      listData.push({\n        href: 'http://ant.design',\n        title: \"Ride \".concat(i + 1),\n        avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\n        description: \"price : \".concat(information[i].price, \"     seats : \").concat(information[i].seats),\n        email: \" \".concat(information[i].email, \" \"),\n        time: \" \".concat(information[i].timeofleave),\n        dol: \"\".concat(information[i].dateofleave),\n        source: \"\".concat(information[i].source),\n        destination: \"\".concat(information[i].destination),\n        phonenumber: \"\".concat(information[i].phonenumber)\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Bookings;","map":{"version":3,"sources":["C:/Users/Indraneel/Desktop/INRservices/frontend/my-app/src/components/Bookings.js"],"names":["React","Component","Button","CustomLayout","Toper3","List","Avatar","Icon","logoinr","axios","listData","IconText","type","text","marginRight","Bookings","constructor","props","state","info","firstname","lastname","gender","date","phonenumber","email","refine","result","filter","word","localStorage","setItem","length","JSON","stringify","componentDidMount","res","parse","getItem","setState","get","then","data","r","information","console","log","i","push","href","title","avatar","description","price","seats","time","timeofleave","dol","dateofleave","source","destination","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button } from 'antd';\r\n\r\nimport CustomLayout from '../containers/CustomLayout';\r\nimport Toper3 from './Toper3';\r\nimport { List, Avatar, Icon } from 'antd';\r\nimport logoinr from './logoinr.jpg';\r\nimport axios from 'axios';\r\nconst listData = [];\r\nconst IconText = ({ type, text }) => (\r\n    <span>\r\n      <Icon type={type} style={{ marginRight: 8 }} />\r\n      {text}\r\n    </span>\r\n  );\r\n\r\n\r\nclass Bookings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n    this.state = {\r\n        info : [],\r\n        firstname : '',\r\n        lastname : '',\r\n        gender : '',\r\n        date : '',\r\n        phonenumber : '',\r\n        email : '',\r\n    }\r\n    }  \r\n    refine(){\r\n        //alert(\"refinement\");\r\n        const result = this.state.info.filter(word => word.email == this.state.email);\r\n        localStorage.setItem('length',result.length);\r\n        localStorage.setItem('info',JSON.stringify(result)); \r\n\r\n    }    \r\n    componentDidMount(){\r\n        //const test = localStorage.getItem('test');\r\n        //console.log(test);\r\n        const res = JSON.parse(localStorage.getItem('details'));\r\n        this.setState({firstname:res.firstname});\r\n        this.setState({lastname:res.lastname});\r\n        this.setState({gender:res.gender});\r\n        this.setState({phonenumber:res.phonenumber});\r\n        this.setState({email:res.email});  //the person got his own details\r\n\r\n        axios.get('http://127.0.0.1:8000/api3/')\r\n        .then(res=>{\r\n            this.setState({\r\n                info : res.data\r\n            });\r\n            //console.log(res.data);\r\n            this.refine();\r\n\r\n        })\r\n        const r = localStorage.getItem('length');\r\n        const information = JSON.parse(localStorage.getItem('info'));\r\n        console.log(\"check \"+information.length);\r\n        console.log(\"check \"+JSON.stringify(information));\r\n        for (let i = 0; i < information.length; i++) {\r\n            \r\n            listData.push({\r\n              href: 'http://ant.design',\r\n              title: `Ride ${i+1}`,\r\n              avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\r\n              description:\r\n              `price : ${information[i].price}     seats : ${information[i].seats}`,\r\n              email:\r\n                   ` ${information[i].email} `,\r\n               time : \r\n                ` ${information[i].timeofleave}`,\r\n               dol : \r\n                  `${information[i].dateofleave}`,\r\n               source :\r\n                   `${information[i].source}`,\r\n               destination :\r\n                    `${information[i].destination}`, \r\n               phonenumber :\r\n                  `${information[i].phonenumber}`      \r\n\r\n            });\r\n          \r\n      }               \r\n    }             \r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Bookings;"]},"metadata":{},"sourceType":"module"}