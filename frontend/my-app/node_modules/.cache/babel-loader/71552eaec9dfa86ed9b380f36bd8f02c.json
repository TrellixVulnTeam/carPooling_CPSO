{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Indraneel\\\\Desktop\\\\INR\\\\frontend\\\\my-app\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport Toper2 from './Toper2';\nimport axios from 'axios';\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBModalFooter, MDBIcon, MDBCardHeader, MDBBtn, MDBInput } from \"mdbreact\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleemailchange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlepasswordchange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handlesubmit = event => {\n      event.preventDefault();\n      axios.get('http://127.0.0.1:8000/api/').then(res => {\n        this.setState({\n          info: res.data\n        });\n        console.log(res.data);\n      }); //console.log(\"done\");\n\n      this.display();\n    };\n\n    this.state = {\n      info: [],\n      email: '',\n      password: '',\n      result: 'not logged in'\n    };\n  }\n\n  handleresultchange(props) {\n    if (props) {\n      this.setState({\n        result: \"logged in\"\n      });\n    } else {\n      this.setState({\n        result: \"wrong credentials\"\n      });\n    }\n  }\n\n  display() {\n    console.log(\"done \" + \"\".concat(this.state.email) + \"\".concat(this.state.password));\n    const emails = this.state.info.map(user => {\n      return user.email;\n    });\n    const passwords = this.state.info.map(user => {\n      return user.password;\n    });\n    console.log(emails);\n\n    if (emails.indexOf(this.state.email) == -1) {\n      console.log(\"goes wrong\");\n      this.handleresultchange(false);\n    } else {\n      if (passwords[emails.indexOf(this.state.email)] == this.state.password) {\n        console.log(\"done\");\n        console.log(\"done\");\n        console.log(\"done\");\n        console.log(\"done\");\n        this.handleresultchange(true);\n      } else {\n        console.log(\"not done\");\n        console.log(\"not done\");\n        console.log(\"not done\");\n        console.log(\"not done\");\n        this.handleresultchange(false);\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Toper2, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(MDBCardHeader, {\n      className: \"form-header deep-blue-gradient rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"my-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      icon: \"lock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), \" Login:\")), React.createElement(\"form\", {\n      onSubmit: this.handlesubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Type your email\",\n      icon: \"envelope\",\n      group: true,\n      type: \"email\",\n      validate: true,\n      error: \"wrong\",\n      success: \"right\",\n      value: this.state.email,\n      onChange: this.handleemailchange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(MDBInput, {\n      label: \"Type your password\",\n      icon: \"lock\",\n      group: true,\n      type: \"password\",\n      validate: true,\n      value: this.state.password,\n      onChange: this.handlepasswordchange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"text-center mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"light-blue\",\n      className: \"mb-3\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Login\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, this.state.result), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"font-weight-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Not a member? Sign Up\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Forgot Password?\")))))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Indraneel/Desktop/INR/frontend/my-app/src/components/Login.js"],"names":["React","Component","Toper2","axios","MDBContainer","MDBRow","MDBCol","MDBCard","MDBCardBody","MDBModalFooter","MDBIcon","MDBCardHeader","MDBBtn","MDBInput","Login","constructor","props","handleemailchange","event","setState","email","target","value","handlepasswordchange","password","handlesubmit","preventDefault","get","then","res","info","data","console","log","display","state","result","handleresultchange","emails","map","user","passwords","indexOf","render"],"mappings":"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","sourcesContent":["import React ,{ Component } from \"react\";\r\nimport Toper2 from './Toper2';\r\nimport axios from 'axios';\r\nimport {\r\n  MDBContainer,\r\n  MDBRow,\r\n  MDBCol,\r\n  MDBCard,\r\n  MDBCardBody,\r\n  MDBModalFooter,\r\n  MDBIcon,\r\n  MDBCardHeader,\r\n  MDBBtn,\r\n  MDBInput\r\n} from \"mdbreact\";\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            \r\n            info : [],\r\n            email : '',\r\n            password : '',\r\n            result : 'not logged in'\r\n        }   \r\n        }\r\n        handleresultchange(props){\r\n            if(props)\r\n            {\r\n                this.setState({result : \"logged in\" });\r\n            }\r\n            else{\r\n                this.setState({result : \"wrong credentials\" });\r\n            }\r\n        }          \r\n        handleemailchange = (event) => {\r\n            this.setState({\r\n                email : event.target.value\r\n            })\r\n        }   \r\n        handlepasswordchange = (event) => {\r\n            this.setState({\r\n                password : event.target.value\r\n            })\r\n        } \r\n        display(){\r\n            console.log(\"done \"+`${this.state.email}`+`${this.state.password}`);\r\n            const emails = this.state.info.map(user=>{ return user.email});\r\n            const passwords = this.state.info.map(user=>{ return user.password});\r\n\r\n            console.log(emails);\r\n            if (emails.indexOf(this.state.email)==-1) {\r\n                console.log(\"goes wrong\");\r\n                this.handleresultchange(false);\r\n            }\r\n            else {\r\n                if(passwords[emails.indexOf(this.state.email)]==this.state.password)\r\n                {\r\n                    console.log(\"done\");\r\n                    console.log(\"done\");\r\n                    console.log(\"done\");\r\n                    console.log(\"done\");\r\n                    this.handleresultchange(true);\r\n                }\r\n                else\r\n                {\r\n                    console.log(\"not done\");\r\n                    console.log(\"not done\");\r\n                    console.log(\"not done\");\r\n                    console.log(\"not done\");                   \r\n                    this.handleresultchange(false);\r\n                }\r\n            }\r\n        }             \r\n        handlesubmit = (event) => {\r\n            event.preventDefault();\r\n            axios.get('http://127.0.0.1:8000/api/')\r\n            .then(res=>{\r\n                this.setState({\r\n                    info : res.data\r\n                });\r\n                console.log(res.data);\r\n            })\r\n            //console.log(\"done\");\r\n            this.display();\r\n        }\r\n                          \r\nrender() {\r\n  return (\r\n     <div>\r\n          <Toper2/> \r\n    <MDBContainer>\r\n     \r\n        \r\n      <MDBRow>\r\n        <MDBCol md=\"6\">\r\n          <MDBCard>\r\n            <MDBCardBody>\r\n              <MDBCardHeader className=\"form-header deep-blue-gradient rounded\">\r\n                <h3 className=\"my-3\">\r\n                  <MDBIcon icon=\"lock\" /> Login:\r\n                </h3>\r\n              </MDBCardHeader>\r\n              <form onSubmit={this.handlesubmit}>\r\n                <div className=\"grey-text\">\r\n                  <MDBInput\r\n                    label=\"Type your email\"\r\n                    icon=\"envelope\"\r\n                    group\r\n                    type=\"email\"\r\n                    validate\r\n                    error=\"wrong\"\r\n                    success=\"right\"\r\n                    value = {this.state.email} onChange={this.handleemailchange}\r\n                  />\r\n                  <MDBInput\r\n                    label=\"Type your password\"\r\n                    icon=\"lock\"\r\n                    group\r\n                    type=\"password\"\r\n                    validate\r\n                    value = {this.state.password} onChange={this.handlepasswordchange}\r\n                  />\r\n                </div>\r\n\r\n              <div className=\"text-center mt-4\">\r\n                <MDBBtn\r\n                  color=\"light-blue\"\r\n                  className=\"mb-3\"\r\n                  type=\"submit\"\r\n                >\r\n                  Login\r\n                </MDBBtn>\r\n              </div>\r\n              </form>\r\n              <div>\r\n                  {this.state.result}\r\n                  </div>\r\n              <MDBModalFooter>\r\n                <div className=\"font-weight-light\">\r\n                  <p>Not a member? Sign Up</p>\r\n                  <p>Forgot Password?</p>\r\n                </div>\r\n              </MDBModalFooter>\r\n            </MDBCardBody>\r\n          </MDBCard>\r\n        </MDBCol>\r\n      </MDBRow>\r\n    </MDBContainer>\r\n    </div>\r\n  );\r\n}\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}