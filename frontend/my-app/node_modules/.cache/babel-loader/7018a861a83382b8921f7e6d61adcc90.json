{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Indraneel\\\\Desktop\\\\INR\\\\frontend\\\\my-app\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport Toper2 from './Toper2';\nimport axios from 'axios';\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBModalFooter, MDBIcon, MDBCardHeader, MDBBtn, MDBInput } from \"mdbreact\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleemailchange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlepasswordchange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handlesubmit = event => {\n      event.preventDefault();\n      axios.get('http://127.0.0.1:8000/api/').then(res => {\n        this.setState({\n          info: res.data\n        });\n        this.display();\n      }); //console.log(\"extracted \"+ this.state.info);\n    };\n\n    this.state = {\n      info: [],\n      email: '',\n      password: '',\n      result: 'not logged in',\n      isAuthenticated: 'false'\n    };\n  }\n\n  handleresultchange(props, info) {\n    if (props) {\n      this.setState({\n        result: \"logged in\"\n      });\n      this.setState({\n        isAuthentictaed: \"true\"\n      });\n      this.props.history.push({\n        pathname: \"/login/dashboard\",\n        state: {\n          details: this.state\n        }\n      });\n    } else {\n      this.setState({\n        result: \"wrong credentials\"\n      });\n    }\n  }\n\n  display() {\n    //console.log(this.state.info);\n    //console.log(\"done \"+`${this.state.email}`+`${this.state.password}`);\n    const emails = this.state.info.map(user => {\n      return user.email;\n    }); //console.log(emails);\n\n    const passwords = this.state.info.map(user => {\n      return user.password;\n    });\n\n    if (emails.indexOf(this.state.email) === -1) {\n      //console.log(\"goes wrong\");\n      this.handleresultchange(false);\n    } else {\n      if (passwords[emails.indexOf(this.state.email)] === this.state.password) {\n        this.handleresultchange(true, this.state.info[emails.indexOf(this.state.email)]);\n      } else {\n        this.handleresultchange(false);\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Toper2, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(MDBCardHeader, {\n      className: \"form-header deep-blue-gradient rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"my-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      icon: \"lock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), \" Login:\")), React.createElement(\"form\", {\n      onSubmit: this.handlesubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Type your email\",\n      icon: \"envelope\",\n      group: true,\n      type: \"email\",\n      validate: true,\n      error: \"wrong\",\n      success: \"right\",\n      value: this.state.email,\n      onChange: this.handleemailchange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(MDBInput, {\n      label: \"Type your password\",\n      icon: \"lock\",\n      group: true,\n      type: \"password\",\n      validate: true,\n      value: this.state.password,\n      onChange: this.handlepasswordchange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"text-center mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"light-blue\",\n      className: \"mb-3\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Login\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, this.state.result), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"font-weight-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Not a member? Sign Up\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Forgot Password?\")))))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Indraneel/Desktop/INR/frontend/my-app/src/components/Login.js"],"names":["React","Component","Toper2","axios","MDBContainer","MDBRow","MDBCol","MDBCard","MDBCardBody","MDBModalFooter","MDBIcon","MDBCardHeader","MDBBtn","MDBInput","Login","constructor","props","handleemailchange","event","setState","email","target","value","handlepasswordchange","password","handlesubmit","preventDefault","get","then","res","info","data","display","state","result","isAuthenticated","handleresultchange","isAuthentictaed","history","push","pathname","details","emails","map","user","passwords","indexOf","render"],"mappings":"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","sourcesContent":["import React ,{ Component } from \"react\";\r\nimport Toper2 from './Toper2';\r\nimport axios from 'axios';\r\nimport {\r\n  MDBContainer,\r\n  MDBRow,\r\n  MDBCol,\r\n  MDBCard,\r\n  MDBCardBody,\r\n  MDBModalFooter,\r\n  MDBIcon,\r\n  MDBCardHeader,\r\n  MDBBtn,\r\n  MDBInput\r\n} from \"mdbreact\";\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            \r\n            info : [],\r\n            email : '',\r\n            password : '',\r\n            result : 'not logged in',\r\n            isAuthenticated : 'false'\r\n        }   \r\n        }\r\n        handleresultchange(props,info){\r\n            if(props)\r\n            {\r\n                this.setState({result : \"logged in\" });\r\n                this.setState({isAuthentictaed : \"true\" });\r\n                this.props.history.push({pathname : `/login/dashboard`, state : {details : this.state}\r\n                });               \r\n            }\r\n            else{\r\n                this.setState({result : \"wrong credentials\" });\r\n            }\r\n        }          \r\n        handleemailchange = (event) => {\r\n            this.setState({\r\n                email : event.target.value\r\n            })\r\n        }   \r\n        handlepasswordchange = (event) => {\r\n            this.setState({\r\n                password : event.target.value\r\n            })\r\n        } \r\n        display(){\r\n            //console.log(this.state.info);\r\n            //console.log(\"done \"+`${this.state.email}`+`${this.state.password}`);\r\n            const emails = this.state.info.map(user=>{ \r\n                 return (user.email);\r\n            });\r\n            //console.log(emails);\r\n            const passwords = this.state.info.map(user=>{ return user.password});\r\n\r\n           \r\n            if (emails.indexOf(this.state.email)===-1) {\r\n                //console.log(\"goes wrong\");\r\n                this.handleresultchange(false);\r\n            }\r\n            else {\r\n                if(passwords[emails.indexOf(this.state.email)]===this.state.password)\r\n                {\r\n                    this.handleresultchange(true,this.state.info[emails.indexOf(this.state.email)]);\r\n                }\r\n                else\r\n                {                   \r\n                    this.handleresultchange(false);\r\n                }\r\n            }\r\n        }             \r\n        handlesubmit = (event) => {\r\n            event.preventDefault();\r\n            axios.get('http://127.0.0.1:8000/api/')\r\n            .then(res=>{\r\n                this.setState({\r\n                    info : res.data\r\n                });\r\n                this.display();\r\n            });\r\n            //console.log(\"extracted \"+ this.state.info);\r\n           \r\n        }\r\n                          \r\nrender() {\r\n  return (\r\n     <div>\r\n          <Toper2/> \r\n    <MDBContainer>\r\n     \r\n        \r\n      <MDBRow>\r\n        <MDBCol md=\"6\">\r\n          <MDBCard>\r\n            <MDBCardBody>\r\n              <MDBCardHeader className=\"form-header deep-blue-gradient rounded\">\r\n                <h3 className=\"my-3\">\r\n                  <MDBIcon icon=\"lock\" /> Login:\r\n                </h3>\r\n              </MDBCardHeader>\r\n              <form onSubmit={this.handlesubmit}>\r\n                <div className=\"grey-text\">\r\n                  <MDBInput\r\n                    label=\"Type your email\"\r\n                    icon=\"envelope\"\r\n                    group\r\n                    type=\"email\"\r\n                    validate\r\n                    error=\"wrong\"\r\n                    success=\"right\"\r\n                    value = {this.state.email} onChange={this.handleemailchange}\r\n                  />\r\n                  <MDBInput\r\n                    label=\"Type your password\"\r\n                    icon=\"lock\"\r\n                    group\r\n                    type=\"password\"\r\n                    validate\r\n                    value = {this.state.password} onChange={this.handlepasswordchange}\r\n                  />\r\n                </div>\r\n\r\n              <div className=\"text-center mt-4\">\r\n                <MDBBtn\r\n                  color=\"light-blue\"\r\n                  className=\"mb-3\"\r\n                  type=\"submit\"\r\n                >\r\n                  Login\r\n                </MDBBtn>\r\n              </div>\r\n              </form>\r\n              <div>\r\n                  {this.state.result}\r\n                  </div>\r\n              <MDBModalFooter>\r\n                <div className=\"font-weight-light\">\r\n                  <p>Not a member? Sign Up</p>\r\n                  <p>Forgot Password?</p>\r\n                </div>\r\n              </MDBModalFooter>\r\n            </MDBCardBody>\r\n          </MDBCard>\r\n        </MDBCol>\r\n      </MDBRow>\r\n    </MDBContainer>\r\n    </div>\r\n  );\r\n}\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}